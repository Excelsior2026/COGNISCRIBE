# CogniScribe Quick Start Guide

Get CogniScribe up and running in minutes!

## Prerequisites

- Python 3.8 or higher
- PostgreSQL (for production) or SQLite (for development)
- Redis (optional, but recommended for production)
- Ollama (for summarization features)

## Quick Setup

### 1. Clone and Navigate

```bash
git clone <repository-url>
cd cogniscribe
```

### 2. Run Setup Script

```bash
./setup.sh
```

This script will:
- ✅ Create `.env` file from template
- ✅ Generate secure API keys and JWT secrets
- ✅ Create Python virtual environment
- ✅ Install dependencies
- ✅ Check for required services
- ✅ Initialize database

### 3. Configure Environment

Edit `.env` file with your settings:

```bash
# Required
DATABASE_URL=postgresql://user:password@localhost:5432/cogniscribe
JWT_SECRET_KEY=<auto-generated>
CLINISCRIBE_API_KEYS=<auto-generated>

# Optional but recommended
REDIS_URL=redis://localhost:6379/0
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
```

### 4. Start Services

**PostgreSQL:**
```bash
# macOS
brew services start postgresql

# Linux
sudo systemctl start postgresql
```

**Redis (optional):**
```bash
# macOS
brew services start redis

# Linux
sudo systemctl start redis
```

**Ollama:**
```bash
# Install from https://ollama.ai
ollama serve
ollama pull llama3.1:8b
```

### 5. Start the Application

```bash
# Activate virtual environment
source venv/bin/activate  # or .venv/bin/activate

# Start server
python -m src.api.main

# Or with uvicorn
uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8080
```

### 6. Verify Installation

Visit:
- API: http://localhost:8080
- API Docs: http://localhost:8080/docs
- Health Check: http://localhost:8080/api/health

## Using the API

### Get Your API Key

Your API key was generated during setup. Find it in your `.env` file:
```bash
grep CLINISCRIBE_API_KEYS .env
```

### Make a Request

```bash
curl -X POST "http://localhost:8080/api/pipeline" \
  -H "X-API-Key: your-api-key-here" \
  -F "file=@lecture.mp3" \
  -F "ratio=0.15" \
  -F "subject=anatomy"
```

### Check Task Status

```bash
curl "http://localhost:8080/api/pipeline/{task_id}" \
  -H "X-API-Key: your-api-key-here"
```

## Troubleshooting

### Database Connection Failed

1. Ensure PostgreSQL is running
2. Check `DATABASE_URL` in `.env`
3. Verify database exists: `createdb cogniscribe`

### Ollama Not Available

1. Install Ollama: https://ollama.ai
2. Start service: `ollama serve`
3. Pull model: `ollama pull llama3.1:8b`
4. Check health: `curl http://localhost:11434/api/tags`

### Redis Connection Failed

- Redis is optional for development
- Rate limiting will use in-memory fallback
- For production, ensure Redis is running

### Port Already in Use

Change port in `.env`:
```
PORT=8081
```

## Next Steps

- Read [README.md](README.md) for detailed documentation
- Check [CODE_REVIEW.md](CODE_REVIEW.md) for security best practices
- Review [SECURITY.md](SECURITY.md) for security configuration

## Need Help?

- Check application logs for detailed error messages
- Review health check endpoint: `/api/health`
- Ensure all required environment variables are set
